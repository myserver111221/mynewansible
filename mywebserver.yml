---
- hosts: mywebservers
  become: yes
  tasks:
   - name: i want to install webserver on only ansible ubuntu node
     apt:
       name: "{{mywebpack for ubuntu}}"
       state: present
     when: ansible_os_family=="Debian"  

   - name: i want to start webserver on only ansible ubuntu node
     service:
       name: "{{mywebpack for ubuntu}}"
       state: started  
     when: ansible_os_family=="Debian"  

   - name: i want to install webserver on only ansible redhat node
     yum:
       name: "{{mywebpack for redhat}}"
       state: present 
     when: ansible_os_family=="RedHat"     
       
   - name: i want to start webserver on only ansible redhat node
     service:
       name: "{{mywebpack for redhat}}"
       state: started 
     when: ansible_os_family=="RedHat"